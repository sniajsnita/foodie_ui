<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />
  <title>Foodie</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://getbootstrap.com/docs/5.3/assets/css/docs.css" rel="stylesheet" />
  <link rel="stylesheet" href="chat.css">

  </style>
</head>

  <body>
    <div class="container-fluid">
      <div class="row">
        <!-- sidebar start -->
        <div class="col-1 flex h-screen p-0 position-fixed">
          <div
            class="bg-cyan-200 w-20 flex flex-col items-center py-4 space-y-8 rounded-r-3xl"
          >
            <div class="flex flex-col items-center space-y-4">
              <a href="rumah.html" class="menu-item">
                <div class="icon-container">
                  <i class="bi bi-house"></i>
                </div>
                <span>Beranda</span>
              </a>
              <a href="komunitas.html" class="menu-item">
                <div class="icon-container">
                  <i class="bi bi-people"></i>
                </div>
                <span>Komunitas</span>
              </a>
              <a href="#" class="menu-item active">
                <div class="icon-container">
                  <i class="bi bi-chat-left-text"></i>
                </div>
                <span>Obrolan</span>
              </a>
              <a href="saveall.html" class="menu-item">
                <div class="icon-container">
                  <i class="bi bi-bookmark"></i>
                </div>
                <span>Bookmark</span>
              </a>
              <a href="unggahfoto.html" class="menu-item">
                <div class="icon-container">
                  <i class="bi bi-plus-square"></i>
                </div>
                <span>Buat</span>
              </a>
              <a href="#" class="menu-item">
                <div class="icon-container">
                  <i class="bi bi-gear"></i>
                </div>
                <span>Pengaturan</span>
              </a>
            </div>
          </div>
        </div>
        <!-- sidebar end -->

      <!-- Main Content start -->
      <div class="col-11 flex-1 p-0">
        <!-- header start -->
        <div class="flex items-center justify-between sticky-header">
          <div class="flex items-center space-x-2">
            <span class="text-xl font-bold px-2">foodie</span>
            <div class="koin-nav text-center p-2">
              <a href="homekoin.html">
                <div class="bg-yellow-400 w-8 h-8 flex items-center justify-center rounded-full mx-auto">
                  <img src="images/Koin.png" alt="">
                </div>
                <p style="font-size: 12px;">12000</p>
              </a>
            </div>
          </div>

          <div class="flex items-center space-x-4">
            <div class="relative">
              <input class="w-96 h-10 pl-4 pr-10 rounded-full border border-black" placeholder="Search" type="text" />
              <i class="fas fa-search absolute right-3 top-1/2 transform -translate-y-1/2"></i>
            </div>

            <a href="#" class="menu-nav">
              <div class="icon-container">
                <i class="bi bi-bell"></i>
              </div>
            </a>

            <div class="nav-profile">
              <a href="#" class="menu-nav">
                <div class="icon-container">
                  <i class="bi bi-person-circle"></i>
                </div>
                <span style="text-decoration: none;">Chanyeol</span>
              </a>
            </div>
          </div>
        </div>
        <!-- header end -->
        <div class="container mt-4">
          <div class="chat-container">
            <!-- Sidebar -->
            <div class="chat-list">
              <div class="chat-list-item" onclick="openChat('Sehun')">
                <img src="/images/sehun.jpg" alt="Sehun">
                <span>Sehun</span>
                <span class="status"></span>
              </div>
              <div class="chat-list-item" onclick="openChat('Jaemin')">
                <img src="/images/chef jaemin.jpg" alt="Jaemin">
                <span>Jaemin</span>
                <span class="status"></span>
              </div>
              <div class="chat-list-item" onclick="openChat('Zayn')">
                <img src="/images/chef love.jpg" alt="Zayn">
                <span>Zayn</span>
                <span class="status"></span>
              </div>
            </div>

            <!-- Chat Window -->
            <div class="chat-window">
              <div class="chat-header" id="chatHeader">Sehun</div>
              <div class="chat-messages" id="chatMessages"></div>
              <div class="chat-input">
                <button onclick="openEmojiPicker()"><i class="bi bi-emoji-smile"></i></button>
                <input type="file" id="fileInput" style="display: none;" onchange="sendFileMessage(event)">
                <button onclick="document.getElementById('fileInput').click()"><i class="bi bi-image"></i></button>
                <input type="text" id="chatInput" placeholder="Type a message...">
                <button onclick="sendMessage()"><i class="bi bi-send"></i></button>
              </div>
            </div>
          </div>
        </div>



      </div>
    </div>
  </div>
  <footer>
    <div class="footer text-black pt-5">
      <div class="container content-container">
        <div class="row">
          <div class="col-lg-4">
            <h5>Foodie</h5>
            <p>
              Aplikasi penyedia resep masakan yang menghadirkan inspirasi
              kuliner unutk semua selera. Dari masakan rumahan hinga kreasi,
              temukan cara baru untuk menikmati makanan setiap hari.
            </p>
          </div>
          <div class="col-lg-4">
            <h5>Menu</h5>
            <ul class="list-unstyled">
              <li><a href="#">Home</a></li>
              <li><a href="#about">About</a></li>
              <li><a href="#resep">Resep</a></li>
              <li><a href="#kontak">kontak</a></li>
            </ul>
          </div>
          <div class="col-lg-4">
            <h5>Kontak Kami</h5>
            <p>Alamat: Bandung, Jawa Barat</p>
            <p>Email:foodieapps@gmail.com</p>
            <p>Telepon: +62 812 9876 5430</p>
            <div>
              <a href="#" class="text-dark me-2"><i class="bi bi-facebook"></i></a>
              <a href="#" class="text-dark me-2"><i class="bi bi-instagram"></i></a>
              <a href="#" class="text-dark"><i class="bi bi-twitter"></i></a>
            </div>
          </div>
        </div>
        <div class="text-center pt-3">
          <p>Â© 2024 Foodie - Penyedia Resep Masakan. All Rights Reserved.</p>
        </div>
      </div>
    </div>
  </footer>
  
  <!-- Link ke Bootstrap JS dan Popper.js (untuk fitur interaktif seperti dropdown dan carousel) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    let currentChat = null;

    // Fungsi untuk membuka chat tertentu
    function openChat(name) {
      currentChat = name;
      document.getElementById('chatHeader').innerText = name;
      document.getElementById('chatMessages').innerHTML = '';
      document.getElementById('chatInput').disabled = false;
    }

    // Fungsi untuk mengirim pesan teks
    function sendMessage() {
      const input = document.getElementById('chatInput');
      const message = input.value.trim();
      if (message === '') return; // Jangan kirim jika input kosong

      const messageContainer = document.getElementById('chatMessages');
      const messageElement = document.createElement('div');
      messageElement.classList.add('chat-message', 'user');
      messageElement.innerHTML = `
                <div class="message">${message}</div>
            `;

      // Tambahkan pesan ke kontainer
      messageContainer.appendChild(messageElement);

      // Scroll ke bawah untuk menampilkan pesan terbaru
      messageContainer.scrollTop = messageContainer.scrollHeight;

      // Kosongkan input
      input.value = '';
    }

    // Fungsi untuk mengirim pesan file (gambar)
    function sendFileMessage(event) {
      const file = event.target.files[0];
      if (!file) return;

      const reader = new FileReader();
      reader.onload = function (e) {
        const messageContainer = document.getElementById('chatMessages');
        const messageElement = document.createElement('div');
        messageElement.classList.add('chat-message', 'user');

        // Template literal untuk menyisipkan gambar
        messageElement.innerHTML = `
                    <img src="${e.target.result}" alt="Image" class="img-fluid" 
                    style="max-width: 200px; border-radius: 10px;">
                `;

        // Tambahkan pesan ke dalam kontainer
        messageContainer.appendChild(messageElement);

        // Scroll ke bawah untuk menampilkan pesan terbaru
        messageContainer.scrollTop = messageContainer.scrollHeight;
      };

      reader.readAsDataURL(file); // Membaca file sebagai Data URL
    }


    function formatTime() {
      const now = new Date();
      return `${now.getHours()}:${now.getMinutes().toString().padStart(2, '0')}`;
    }

    // Tambahkan waktu di dalam bubble chat
    messageElement.innerHTML = `
            <div class="message">
                ${message}
                <small style="display: block; font-size: 10px; color: #ccc;">${formatTime()}</small>
            </div>
        `;

  </script>



  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>


</body>
</html>